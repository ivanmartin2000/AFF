<!-- Barra superior -->
<div class="top-bar">
  <div class="top-bar-left">
    <!-- Botones horizontales -->
    <button (click)="navigateTo('/app/productos-activos')">
      <fa-icon [icon]="faStore"></fa-icon>
      <span>Ver Productos en venta</span>
    </button>

    <button (click)="navigateTo('/app/ranking-subastas')">
      <fa-icon [icon]="faChartLine"></fa-icon>
      <span>Ranking Subastas</span>
    </button>

    <button (click)="navigateTo('/app/ranking-vendedores')">
      <fa-icon [icon]="faMedal"></fa-icon>
      <span>Ranking Vendedores</span>
    </button>

    <div class="dropdown">
      <button class="dropdown-toggle" (click)="toggleCategories()">
        <fa-icon [icon]="faThList"></fa-icon>
        <span>Categorías</span>
      </button>
      <div class="dropdown-menu" *ngIf="showCategories">
        <ul>
          <li *ngFor="let category of categories">
            <button (click)="navigateToCategory(category)">{{ category.descripcion }}</button>
          </li>
        </ul>
      </div>
    </div>

    <button (click)="navigateTo('/app/subastas-activas')">
      <fa-icon [icon]="faGavel"></fa-icon>
      <span>Ver Subastas</span>
    </button>
  </div>

  <!-- Búsqueda + Billetera + Logo -->
  <div class="top-bar-right">
    <!-- Caja de búsqueda -->
    <div class="search-box">
      <input
        type="text"
        placeholder="Buscar..."
        [(ngModel)]="searchQuery"
        (keyup.enter)="onSearch()"
      />
      <button (click)="onSearch()">
        <fa-icon [icon]="faSearch"></fa-icon>
      </button>
    </div>

    <!-- Botón para mostrar billetera -->
    <button class="btn-wallet" (click)="mostrarDetallesBilletera()">
      <fa-icon [icon]="faWallet"></fa-icon>
      <span>{{ billetera?.monto | currency:'ARS':'symbol':'1.2-2' }}</span>
    </button>

    <!-- Logo a la derecha -->
    <img src="LogoAF.png" alt="Logo All For Fans" class="logo" />
  </div>
</div>

<!-- Menú Lateral -->
<div class="side-menu" [class.open]="isSideMenuOpen">
  <!-- Perfil del usuario logueado -->
  <div class="profile-block">
    <img [src]="userProfileImage" alt="Perfil" class="profile-image" />
    <h3 *ngIf="isSideMenuOpen">{{ userName }}</h3>
  </div>

  <!-- Botón para abrir/cerrar menú lateral -->
  <button class="toggle-menu-btn" (click)="toggleSideMenu()">
    <fa-icon *ngIf="!isSideMenuOpen" [icon]="faBars"></fa-icon>
    <fa-icon *ngIf="isSideMenuOpen" [icon]="faTimes"></fa-icon>
  </button>

  <ul>
    <li>
      <button (click)="navigateTo('/app/perfil-usuario')">
        <fa-icon [icon]="faUser"></fa-icon>
        <span *ngIf="isSideMenuOpen">Perfil de Usuario</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/productos-comprados')">
        <fa-icon [icon]="faShoppingCart"></fa-icon>
        <span *ngIf="isSideMenuOpen">Comprados</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/productos-vendidos')">
        <fa-icon [icon]="faMoneyBillWave"></fa-icon>
        <span *ngIf="isSideMenuOpen">Vendidos</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/productos-publicados')">
        <fa-icon [icon]="faTag"></fa-icon>
        <span *ngIf="isSideMenuOpen">En Venta</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/producto-subasta')">
        <fa-icon [icon]="faGavel"></fa-icon>
        <span *ngIf="isSideMenuOpen">En Subasta</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/publicar-producto')">
        <fa-icon [icon]="faPlus"></fa-icon>
        <span *ngIf="isSideMenuOpen">Publicar</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/ver-envios')">
        <fa-icon [icon]="faTruck"></fa-icon>
        <span *ngIf="isSideMenuOpen">Envíos</span>
      </button>
    </li>
    <li>
      <button (click)="navigateTo('/app/carrito')">
        <fa-icon [icon]="faCartShopping"></fa-icon>
        <span *ngIf="isSideMenuOpen">Carrito</span>
      </button>
    </li>
  </ul>
</div>

<!-- Botón flotante "Volver al Menú Principal" -->
<div class="back-to-menu">
  <button (click)="navigateTo('app/menu-principal')">Volver al Menú Principal</button>
</div>

<!-- Contenido de la página -->
<div class="content">
  <router-outlet></router-outlet>
</div>

<!-- Footer degradado invertido -->
<footer class="footer-bar"></footer>
